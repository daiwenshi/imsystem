<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta charset="utf-8" />
		<title>完成单页面</title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css" />
		<script type="text/javascript" src="js/jquery-2.1.4.min.js" ></script>
		<script type="text/javascript" src="js/bootstrap.min.js" ></script>
		<style type="text/css">
			.selected>div{
				padding-top:1vw ;
				padding-bottom: 1vw;
			}
			.content{
				overflow-x: auto;
				padding-top: 15px;
			}
			.datetimepicker{
				margin: 0px;
			}
			.pagebtn{
				height: 28px;
				width: 25px;
				border: 1px solid #C0C0C0;
				list-style: none;
				text-align: center;
				background: #DDDDDD;
				line-height: 28px;
				cursor: pointer;
			}
			#page>ul{
				display: flex;
				justify-content: space-around;
				padding: 0px;
				font-size: 12px;
			}
			#page{
				width: 300px;
				margin: 20px auto ;
			}
			.currentPage{
				background: red;
				color: white;
				border: none;
			}
			.table>tbody>tr{
				cursor: pointer;
			}
			.table>tbody>tr>td{
				white-space:nowrap;
				padding: 8px 20px;
				
			}
			.table>thead>tr>th{
				white-space:nowrap;
				padding: 8px 20px;
			}
			.xsoptions{
				display: none;
			}
			#options{
				display: none;
			}
			.display{
				display: block;
			}
			@media (max-width: 767px) { 
			
				.xsoptions{
					display: block;
					line-height: 30px;
    				margin-left: -15px;
				}
				.display{
					display: none;
				}
				.displayBlock{
					display: block;
				}
				
			}
		</style>
	</head>
	<body>
		<div id="wrapper" style="padding-top: 10px;" class="container-fluid">
			<div class="selected row">
				<div class="col-md-4 col-sm-6 col-xs-11">
					<div class="input-group">
						<span class="input-group-addon" >No</span>
						<input class="form-control" placeholder="订单编号" />
					</div>
				</div>
				<div class="col-md-3 col-sm-6 col-xs-11 display">
					<div class="input-group">
						<span class="input-group-addon">每页数</span>
						<select class="form-control" style="border-right: none;">
							<option>10</option>
							<option>20</option>
							<option>50</option>
							<option>100</option>
						</select>
						<span class="input-group-addon">时间</span>
						<span class="input-group-addon order">
							<span class="glyphicon glyphicon-triangle-bottom"></span>
						</span>
					</div>
				</div>
				<div class="col-md-5 col-sm-12 col-xs-11 display">
	                <div class="input-group">
	                    <span class="input-group-addon">Time</span>
	                    <div class="form-control" style="display: flex;padding: 0px;font-size: 12px;">
	                    	<input class="datetimepicker" readonly="readonly"style="border: none;border-right: 1px solid #ddd;border-radius: 0px;background: white;width: 50%;height: 100%;" placeholder="开始时间" />
							<input class="datetimepicker" readonly="readonly"style="border: none;background: white;width: 50%;height: 100%;" placeholder="结束时间" />
	                    </div>
						<span class="input-group-addon remove"><span class="glyphicon glyphicon-remove"></span></span>
	                </div>
				</div>
				<div class="col-xs-1 xsoptions">
					<span class="glyphicon glyphicon-triangle-bottom"></span>
				</div>
			</div>
			<div id="options">
				<ul class="list-group well">
					<li class="list-group-item" data="0">订单查询</li>
					<li class="list-group-item" data="1">排序And条数</li>
					<li class="list-group-item" data="2">时间查询</li>
				</ul>
			</div>
			<div class="content text-center">
				<table class="table table-hover">
					<thead>
						<tr>
							<th style="text-align: center;">订单编号</th>
							<th style="text-align: center;width: 20px;">数量</th>
							<th style="text-align: center;">时间</th>
							<th style="text-align: center;">实收金额</th>
							<th style="text-align: center;">操作</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>1231231231231</td>
							<td>12</td>
							<td>2001-1-1</td>
							<td>40000.00</td>
							<td>
								<div style="display: flex;" >
									<span style="margin: auto;" title="查看详细" data-toggle="modal" data-target=".bs-example-modal-lg" class="glyphicon glyphicon glyphicon-edit"></span>
									<!--<span style="margin: auto;" title="退货" class="glyphicon glyphicon-backward"></span>-->
								</div>
							</td>
						</tr>
						<tr>
							<td>1231231231231</td>
							<td>12</td>
							<td>2001-1-1</td>
							<td>40000.00</td>
							<td>
								<div style="display: flex;" >
									<span style="margin: auto;" title="查看详情" data-toggle="modal" data-target=".bs-example-modal-lg" class="glyphicon glyphicon glyphicon-edit"></span>
									<!--<span style="margin: auto;" title="退货" class="glyphicon glyphicon-backward"></span>-->
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<!--商品详情模态框-->
			<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
			  <div class="modal-dialog modal-lg" role="document">
			    <div class="modal-content">
			       <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			        <h4 class="modal-title" id="myModalLabel">订单详情</h4>
			      </div>
			      <div class="modal-body">
			        	<iframe width="100%" style="border: none;overflow-x: auto;" src="orderDetails.html"></iframe>
			      </div>
			      <div class="modal-footer"> 
			        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
			      </div>
			    </div>
			  </div>
			</div>
			<div id="page">
				<ul>
					<li class="pagebtn pagePrev"><span class="glyphicon glyphicon-menu-left"></span></li>
					<li class="pagebtn currentPage pageCurrent pageq">1</li>
					<li class="pagebtn pageCurrent pageq">2</li>
					<li class="pagebtn pageCurrent pageq">3</li>
					<li class="pagebtn" id="pageDian" style="border: none;background: white;font-size: 20px;">...</li>
					<li class="pagebtn pageCurrent pageDi">14</li>
					<li class="pagebtn pageCurrent">15</li>
					<li class="pagebtn pageNext"><span class="glyphicon glyphicon-menu-right"></span></li>
				</ul>
			</div>
		</div>
		<script type="text/javascript" src="js/bootstrap-datetimepicker.js" ></script>
		<script type="text/javascript">
		    $('.datetimepicker').datetimepicker({
			    format: 'yyyy-mm-dd hh:ii',
			    autoclose: 1
			});
			$(function(){
				$(window).resize(function(){
					
					var width = parseInt($(window).width());
					
					if(width >= 768){
						
							$("#options").slideUp();
						
					}
					
				});
				$(".xsoptions").click(function(){
					if($("#options").css("display")=="none"){
						$("#options").slideDown();
						$(this).find("span").removeClass("glyphicon-triangle-bottom");
						$(this).find("span").addClass("glyphicon-triangle-top");
					}
					else{
						$("#options").slideUp();
						$(this).find("span").addClass("glyphicon-triangle-bottom");
						$(this).find("span").removeClass("glyphicon-triangle-top");
					}
				});
				$(".well>li").click(function(){
					
					var data = $(this).attr("data");
					
					$(".selected>div:not(.xsoptions)").addClass("display");
					$(".selected>div:not(.xsoptions)").removeClass("displayBlock");
					$(".selected>div:eq("+data+")").addClass("displayBlock");
					
					$("#options").slideUp();
					$(".xsoptions").find("span").addClass("glyphicon-triangle-bottom");
					$(".xsoptions").find("span").removeClass("glyphicon-triangle-top");
				});
				$(".remove").click(function(){
					$(".datetimepicker").val("");
				});
				var s=0;
				$(".pageNext").click(function(){
					var currentPage = $(".currentPage");
					var index = $(".pageCurrent").index(currentPage);
					if(index == 0){
						pageJia(index);
						return;
					}
					if($("#pageDian").css("display") != "none"){
						$(".pageq").each(function(index,e){
							if(index == $(".pageq").length-1){
								$(e).text(parseInt($(e).text())+1)
								return;
							}
							$(e).text($(".pageq:eq("+(index+1)+")").text());
						});
					}
					if(parseInt($(".pageCurrent:eq("+(index+1)+")").text()) >= parseInt($(".pageDi").text())-1){
						if(s == 0){
							$("#pageDian").css("display","none");
							s++;
						}
						else{
							pageJia(index);
						}
						return;
					}
				});
				
				$(".pagePrev").click(function(){
					var currentPage = $(".currentPage");
					var index = $(".pageCurrent").index(currentPage);
					if($(".pageCurrent:eq("+(index)+")").text() == 1){
						return;
					}
					if($(".pageCurrent:eq("+(index)+")").text() <= 2){
						pageJian(index);
						return;
					}
					if(parseInt($(".pageCurrent:eq("+(index)+")").text()) == parseInt($(".pageDi").text())-2){
						$("#pageDian").css("display","block");
						s=0;
					}
					if(parseInt($(".pageCurrent:eq("+(index)+")").text()) > parseInt($(".pageDi").text())-2){
						pageJian(index);
						return;
					}
					else{
						$(".pageq").each(function(index,e){
							if(index == 0){
								$(e).text(parseInt($(e).text())-1)
								return;
							}
							$(e).text(parseInt($(".pageq:eq("+(index-1)+")").text())+1);
						});
						
					}
					
				});
				
				$(".pageCurrent").click(function(){
					
					var index = $(".pageCurrent").index(this);
					
					var currentPage = $(".currentPage");
					
					var currentIndex = $(".pageCurrent").index(currentPage);
					
					var text = $(this).text();
					
					if(text == "1"){
						$(".pageCurrent").removeClass("currentPage");
						$(this).addClass("currentPage");
						return;
					}
					
					if(index != currentIndex){
						
						var zhi = parseInt($(".pageCurrent:eq("+index+")").text()-2);
						if(zhi+2 >= parseInt($(".pageDi").text())-2){
							
							$("#pageDian").css("display","none");
							
							var dishu = parseInt($(".pageDi").text())-4;
							$(".pageq").each(function(index,e){
								$(e).text(++dishu);			
							});
							s=1;
						}else{
							
							$("#pageDian").css("display","block");
							
							s=0;
							
							$(".pageq").each(function(index,e){
								$(e).text(++zhi);			
							});
						}
						$(".pageCurrent").removeClass("currentPage");
						$(".pageCurrent").each(function(index,e){
							if($(e).text() == text){
								$(e).addClass("currentPage");
							}
						});
					}
				});
			
				$(".order").click(function(){
					if($(this).find("span").attr("class").indexOf("glyphicon-triangle-bottom") != -1){
						$(this).find("span").removeClass("glyphicon-triangle-bottom");
						$(this).find("span").addClass("glyphicon-triangle-top");
					}
					else{
						$(this).find("span").addClass("glyphicon-triangle-bottom");
						$(this).find("span").removeClass("glyphicon-triangle-top");
					}
				});
			});
			function pageJia(index){
				$(".pageCurrent:eq("+index+")").removeClass("currentPage");
				$(".pageCurrent:eq("+(index+1)+")").addClass("currentPage");
			}
			function pageJian(index){
				$(".pageCurrent:eq("+index+")").removeClass("currentPage");
				$(".pageCurrent:eq("+(index-1)+")").addClass("currentPage");
			}
		</script>
	</body>
</html>
