


<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- Head -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <title>客户新增页面</title>
    <!-- Bootstrap Core CSS -->
    <link th:href="@{/assets/XiTong/css/bootstrap.min.css}" rel="stylesheet">
    <!-- Custom CSS -->
    <link th:href="@{/assets/XiTong/css/style.css}" rel="stylesheet">
    <!-- You can change the theme colors from here -->
    <link th:href="@{/assets/XiTong/css/blue.css}" id="theme" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script th:src="@{https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js}"></script>
    <script th:src="@{https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js}"></script>
<![endif]-->

<style type="text/css">
	.img-circle{
		background-color: lightgrey;
	}
	.card .card-subtitle{
		color: goldenrod;
		font-size: 16px;
	}
	#name{
		width: 100%;
		text-align: center;
		border: none;
		outline: none;
	}
	#integral{
		width: 80%;
		padding-left: 5px;
		color: goldenrod;
		border: none;
		outline: none;
	}
	.text-center div{
		margin-bottom: 15px;
		color: #455a64;
	}
	#initialMoney,#balance{
		width: 50%;
		text-align: center;
		border: none;
		outline: none;
	}
	
	/* 选择文件按钮样式 */
	#chooseFileDiv,#chooseFileDiv input{
		width: 100%;
	}
	#chooseFileDiv{
		position: absolute;
		right: 0px;
		bottom: 2px;
		opacity: 0.0;
	}
</style>
</head>

<!-- //Head -->

<!-- Body -->
<body>
	
<div class="row elDocument" style="padding: 28px 20px;">
		
                    <!-- Column -->
                    <div class="col-lg-4 col-xlg-3 col-md-5">
                        <div class="card">
                            <div class="card-block">
                                <center class="m-t-30"> 
                                	<img id="img" th:src="@{/assets/img/tmore.png}" class="img-circle" width="150" height="145">
                                   
                                    <h4 class="card-title m-t-10"><input type="text" name="name" id="name" value="" placeholder="客户名称" /></h4>
                                    <h6 class="card-subtitle">积分:<input type="text" name="integral" id="integral" value="" placeholder="0"/></h6>
                                    <div class="row text-center justify-content-md-center">
                                        <div class="col-6">初始余额:<input type="text" name="" id="initialMoney" value="" placeholder="0"/></div>
                                        <div class="col-6">余&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;额:<input type="text" name="" id="balance" value="" placeholder="0"/></div>
                                    </div>
                                </center>
                            </div>
                            
                            <div id="chooseFileDiv">
                            	<input type="file" value="" onchange="imgShow(this)">
                            </div>
                            <button class="btn btn-danger btn-block ">
               					选择头像
             				</button>
                        </div>
                    </div>
                  	
                    <!-- Column -->
                    <!-- Column -->
                    <div class="col-lg-8 col-xlg-9 col-md-7">
                        <div class="card">
                            <div class="card-block">
                                <form id="addCustomerForm" class="form-horizontal form-material">
                                
                                	<input type="hidden" value="" name="" id="name"/>
                                	<input type="hidden" value="" name="" id="img"/>
                                	<input type="hidden" value="" name="" id="initbalance"/>
                                	<input type="hidden" value="" name="" id="balance"/>
                                	<input type="hidden" value="" name="" id="score"/>
                                
                                	<div class="form-group">
                                        <label class="col-md-12">联系人名称</label>
                                        <div class="col-md-12">
                                            <input type="text" value="" class="form-control form-control-line">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-12">联系人电话</label>
                                        <div class="col-md-12">
                                            <input type="text" value="" class="form-control form-control-line">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-md-12">收货地址</label>
                                        <div class="col-md-12">
                                            <input type="text" value="" class="form-control form-control-line" placeholder="省/市/区/具体地址">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-12">客户类型</label>
                                        <div class="col-sm-12">
                                            <select class="form-control form-contr;ol-line" >
                                                <option v-for="(o,i) in typeList"   :selected="o.ctObj.defaulttype == 0" >
                                                {{o.ctObj.name}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-12">客户等级</label>
                                        <div class="col-sm-12">
                                            <select class="form-control form-control-line" >
                                                <option v-for="(o,i) in levelList">{{o.clObj.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-12">所属门店</label>
                                        <div class="col-sm-12">
                                            <select class="form-control form-control-line" >
                                                <option v-for="(o,i) in storeList">{{o.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <div class="col-sm-12">
                                            <button class="btn btn-success" id="addCustomer">确认添加</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- Column -->
                    
     </div>
	
</body>
<!-- //Body -->
 	<script th:src="@{/assets/js/jquery.min.js}"></script>
 	<script th:src="@{assets/vendor/jquery/jquery.js}"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script th:src="@{/assets/js/tether.min.js}"></script>
    <script th:src="@{/assets/js/bootstrap.min.js}"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script th:src="@{/assets/js/jquery.slimscroll.js}"></script>
    <!--Wave Effects -->
    <script th:src="@{/assets/js/waves.js}"></script>
    <!--Menu sidebar -->
    <script th:src="@{/assets/js/sidebarmenu.js}"></script>
    <!--stickey kit -->
    <script th:src="@{/assets/js/sticky-kit.min.js}"></script>
    <!--Custom JavaScript -->
    <script th:src="@{/assets/js/custom.min.js}"></script>
    <script th:src="@{/assets/js/vue.js}"></script>
    
	<script>
	
		var vue=new Vue({
			el:".elDocument",
			data:{
				typeList:{},
				levelList:{},
				storeList:{}
			}
		});
	
		function imgShow(obj) {

			var file = obj.files.item(0);
			if(!(/^image\/.*$/i.test(file.type))) {
				alert("不是图片文件！"); //不是图片 就跳出这一次循环  
			}
			var freader = new FileReader();
			freader.readAsDataURL(file);
			freader.onload = function(e) {

				$("#img").attr("src",e.target.result);

			}
			
			var val=obj.value;
			alert(val);
			
		}
	
		$(function() {
			$.ajax({
				url:"querytypelevel",
				type:"post",
				dataType:"json",
				success:function(result){
					vue.typeList=result.ctlist;
					vue.levelList=result.cllist;
					vue.storeList=result.slist;
				}
			});
			
			$("#addCustomer").click(function(){
				var src=$("#img").attr("src");
				alert(src);
			});
		});
	</script>

</html>